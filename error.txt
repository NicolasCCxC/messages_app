$companyId = '83e80ae5-affc-32b4-b11d-b4cab371c48b';

// This is the logic you fixed. If it doesn't crash, it's working.
$payTransaction = \App\Models\Membership::with('payTransaction')
    ->where('company_id', $companyId)
    ->orderBy('purchase_date', 'desc') 
    ->first();

// Check if it actually found a result
if ($payTransaction) {
    echo "Success! Found membership from: " . $payTransaction->purchase_date;
} else {
    echo "Query worked, but no memberships found for this company.";
}
# Global config
server.port=8087
spring.application.name=core
server.servlet.context-path=/core
cors.configurations.origins=http://localhost:5173
# Oracle connection
spring.datasource.url=jdbc:oracle:thin:@142.93.9.150:1521/XE?v$session.osuser=nico
spring.datasource.username=core
spring.datasource.password=b2Dy4VzSh0h1
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
# JPA config
spring.jpa.properties.hibernate.jdbc.time_zone=America/Bogota
spring.jpa.database-platform=org.hibernate.dialect.OracleDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
# Jwt
jwt.secret=87Yjl4aAVHaXwLRtUiEdiFjsO5mzYJ3auUAyDU7MsWjrzBRSx1xSALBXdqPxX6RG
# Role Identifiers
ROLE_ID_ADMIN=031cb028-0c8e-4331-ab16-dcc46b49c0cb
ROLE_ID_WRITING=60b3b8a2-82d5-4829-944e-db26f671af90
ROLE_ID_READING=db358b2e-f6da-4f71-95e9-0206562f1b45
USER_PERMISSION_DENIED_MESSAGE=El usuario no tiene permisos
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
# Gateway
gateway.url=http://192.168.1.69:8080
api.key=sk-test-1234567890abcdef1234567890abc
FAKE_TOKEN=
# Config index files
EXIT_ROUTE=RUTA_SALIDA
MAX_RECORDS_PER_FILE=1000
# ===============================================
# CONFIG MAIL SERVICE
# ===============================================
spring.mail.host=${SMTP_HOST:233}
spring.mail.port=${SMTP_PORT:2332}
spring.mail.username=${SMTP_EMAIL:asdasd}
spring.mail.password=${SMTP_PASSWORD:adssdaasd}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
notifications.mail.recipients=mfbarrero@ccxc.co,nsanchez@ccxc.co,jlondono@ccxc.co
################################################################################
# CONFIGURACION DEL PROCESO DE GENERACION DE EXTRACTOS
#
# NOTA: Los valores en este archivo sirven como base. En un entorno Docker,
# seran sobrescritos por las variables de entorno correspondientes.
################################################################################
# ==============================================================================
# 1. CONFIGURACION GENERAL DEL PROCESO
# ==============================================================================
# Ruta de salida para los PDF.
extract.process.default-output-path=extractos_output
extract.process.barcode-width=350
extract.process.barcode-height=50
# ==============================================================================
# 2. CONFIGURACION DE RENDIMIENTO
# ==============================================================================
# --- Parametros Generales de Rendimiento ---
extract.performance.queue-capacity=${EXTRACT_PERFORMANCE_QUEUE_CAPACITY:2000}
extract.performance.pdf-write-batch-size=${EXTRACT_PERFORMANCE_PDF_WRITE_BATCH_SIZE:50}
extract.performance.pdf-max-size-kb=${EXTRACT_PERFORMANCE_PDF_MAX_SIZE_KB:96}
# --- Pool de Hilos del Productor (Lectura de Base de Datos) ---
extract.performance.producer-pool.name-prefix=ExtractProducer-
extract.performance.producer-pool.core-size=${EXTRACT_PERFORMANCE_PRODUCER_POOL_CORE_SIZE:2}
extract.performance.producer-pool.max-size=${EXTRACT_PERFORMANCE_PRODUCER_POOL_MAX_SIZE:4}
extract.performance.producer-pool.queue-capacity=${EXTRACT_PERFORMANCE_PRODUCER_POOL_QUEUE_CAPACITY:100}
extract.performance.producer-pool.id-batch-size=${EXTRACT_PERFORMANCE_PRODUCER_POOL_ID_BATCH_SIZE:1000}
# --- Pool de Hilos del Consumidor (Generacion de PDF) ---
extract.performance.consumer-pool.name-prefix=ExtractConsumer-
extract.performance.consumer-pool.core-size=${EXTRACT_PERFORMANCE_CONSUMER_POOL_CORE_SIZE:4}
extract.performance.consumer-pool.max-size=${EXTRACT_PERFORMANCE_CONSUMER_POOL_MAX_SIZE:8}
extract.performance.consumer-pool.queue-capacity=${EXTRACT_PERFORMANCE_CONSUMER_POOL_QUEUE_CAPACITY:100}
# ==============================================================================
# 3. CONFIGURACION DE LA BASE DE DATOS
# ==============================================================================
# --- Pool de Conexiones (HikariCP) ---
spring.datasource.hikari.maximum-pool-size=${SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE:15}
spring.datasource.hikari.minimum-idle=${SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE:5}
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
# ==============================================================================
# 4. CONFIGURACION DE GESTION DE ESTADO
# ==============================================================================
extract.state.progress-threshold-percent=${EXTRACT_STATE_PROGRESS_THRESHOLD_PERCENT:10}
extract.state.time-threshold-ms=${EXTRACT_STATE_TIME_THRESHOLD_MS:10000}
# ==============================================================================
# 6. CONFIGURACION DE LOGGING
# ==============================================================================
logging.level.root=INFO
logging.level.avvillas.core=${LOGGING_LEVEL_AVVILLAS_CORE:INFO}
logging.level.com.openhtmltopdf=${LOGGING_LEVEL_COM_OPENHTMLTOPDF:ERROR}
logging.level.org.hibernate.SQL=WARN
logging.level.org.springframework.security=INFO
logging.file.name=/app/logs/service.log